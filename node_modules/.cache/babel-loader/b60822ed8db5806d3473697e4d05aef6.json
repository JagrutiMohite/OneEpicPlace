{"remainingRequest":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/babel-loader/lib/index.js!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/src/views/3. user views/components/modals/BookingModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/src/views/3. user views/components/modals/BookingModal.vue","mtime":1562358994137},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as api from '@/services/api_access';\nexport default {\n  data: function data() {\n    return {\n      date: null,\n      location: null,\n      //Color options\n      selectedColor: 'blue',\n      showMoreText: 'Show More',\n      showMore: false\n    };\n  },\n  methods: {\n    openModal: function openModal(date, location, startTime, endTime) {\n      this.date = date;\n      this.location = location; //Modal Header\n\n      document.getElementById('BookingModal-HeaderDate').innerHTML = this.getDayOfTheWeek(date) + ', ' + this.getMonthName(date) + ' ' + date.getDate() + ' ' + date.getFullYear(); //Modal Location\n\n      document.getElementById('BookingModal-Location').value = location.id; //Time\n\n      document.getElementById('BookingModal-StartTime').value = startTime;\n      document.getElementById('BookingModal-EndTime').value = endTime; //Scroll\n\n      document.getElementById('BookingModal').scrollTo(0, 0);\n      document.getElementById(\"BookingModal\").style.opacity = \"1.0\";\n      document.getElementById(\"BookingModal\").style.visibility = \"visible\";\n    },\n    closeModal: function closeModal() {\n      document.getElementById(\"BookingModal\").style.opacity = \"0.0\";\n      document.getElementById(\"BookingModal\").style.visibility = \"hidden\"; //colors\n\n      document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n\n      for (var index = 0; index < 8; index++) {\n        document.getElementById('BookingModal-ColorOption' + index).style.visibility = 'hidden';\n      } //inputs\n\n\n      this.date = null;\n      this.location = null;\n      document.getElementById('BookingModal-Title').value = '';\n      document.getElementById('BookingModal-Description').value = '';\n      document.getElementById('BookingModal-NoiseSlider').value = 0;\n      document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n    },\n    submitBooking: function submitBooking(event) {\n      var _this = this;\n\n      var date = this.date.toJSON().slice(0, 10);\n      var locationID = document.getElementById('BookingModal-Location').value;\n      var locationName = this.$parent.locations[document.getElementById('BookingModal-Location').value].name;\n      var resourceID = '';\n\n      for (var i = 0; i < this.$parent.resources.length; i++) {\n        if (document.getElementById('res' + this.$parent.resources[i].id) != null && document.getElementById('res' + this.$parent.resources[i].id).checked) {\n          resourceID += this.$parent.resources[i].id + ',';\n        }\n      }\n\n      if (resourceID == '') resourceID = '0';else resourceID = resourceID.substring(0, resourceID.length - 1);\n      var title = '';\n      if (document.getElementById('BookingModal-Title')) title = document.getElementById('BookingModal-Title').value;\n      var description = '';\n      if (document.getElementById('BookingModal-Description')) description = document.getElementById('BookingModal-Description').value;\n      var startTime = document.getElementById('BookingModal-StartTime').value;\n      var endTime = document.getElementById('BookingModal-EndTime').value;\n      var bookingColor = this.selectedColor;\n      var noiseLevel = 0;\n      if (document.getElementById('BookingModal-NoiseSlider')) noiseLevel = document.getElementById('BookingModal-NoiseSlider').value;\n      api.insertBooking(date, locationID, locationName, resourceID, title, description, startTime, endTime, bookingColor, noiseLevel).then(function (bookingResult) {\n        if (bookingResult == '100') {\n          _this.closeModal();\n\n          _this.$parent.checkBookings();\n        } else if (bookingResult == '403') alert('You dont have permission to make a booking');else if (bookingResult == '404') alert('Booking time must be within the time range (watch out for AM PM)');else if (bookingResult == '405') alert('Start Time must be before End Time');else if (bookingResult == '406') alert('Time is not within a 5 min interval');else if (bookingResult == '407') alert('Time Overlap');else if (bookingResult == '408') alert('A Silent Reservation Has Already Been Made During This Time');else if (bookingResult == '409') alert('A Loud Reservation Has Already Been Made During This Time');\n      }); //Prevent submit refresh\n\n      event.preventDefault();\n    },\n    checkFormType: function checkFormType() {\n      var type = 'room';\n      if (this.location != null && this.location.type != undefined) type = this.location.type;\n      return type;\n    },\n    styleColorSelector: function styleColorSelector() {\n      if (this.location != null && this.location.type != undefined) {\n        if (this.location.type == 'desk') return 'width: 40%; margin: 10px 30%;';\n      }\n    },\n    getDayOfTheWeek: function getDayOfTheWeek(date) {\n      switch (date.getDay()) {\n        case 0:\n          return 'Sunday';\n\n        case 1:\n          return 'Monday';\n\n        case 2:\n          return 'Tuesday';\n\n        case 3:\n          return 'Wednesday';\n\n        case 4:\n          return 'Thursday';\n\n        case 5:\n          return 'Friday';\n\n        case 6:\n          return 'Saturday';\n      }\n    },\n    getMonthName: function getMonthName(date) {\n      switch (date.getMonth()) {\n        case 0:\n          return 'January';\n\n        case 1:\n          return 'February';\n\n        case 2:\n          return 'March';\n\n        case 3:\n          return 'April';\n\n        case 4:\n          return 'May';\n\n        case 5:\n          return 'June';\n\n        case 6:\n          return 'July';\n\n        case 7:\n          return 'August';\n\n        case 8:\n          return 'September';\n\n        case 9:\n          return 'October';\n\n        case 10:\n          return 'November';\n\n        case 11:\n          return 'December';\n      }\n    },\n    selectColor: function selectColor(input) {\n      if (input == null) {\n        document.getElementById('BookingModal-SelectedColor').style.visibility = 'hidden';\n\n        for (var index1 = 0; index1 < 8; index1++) {\n          document.getElementById('BookingModal-ColorOption' + index1).style.visibility = 'visible';\n        }\n      } else {\n        this.selectedColor = input;\n        document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n\n        for (var index2 = 0; index2 < 8; index2++) {\n          document.getElementById('BookingModal-ColorOption' + index2).style.visibility = 'hidden';\n        }\n      }\n    },\n    getRangeValue: function getRangeValue() {\n      if (document.getElementById('BookingModal-NoiseSlider').value == -1) document.getElementById('BookingModal-NoiseValue').innerHTML = 'Requires Quiet';else if (document.getElementById('BookingModal-NoiseSlider').value == 0) document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';else if (document.getElementById('BookingModal-NoiseSlider').value == 1) document.getElementById('BookingModal-NoiseValue').innerHTML = 'Loud';\n    },\n    changeOptions: function changeOptions() {\n      this.showMore = !this.showMore;\n      if (this.showMore) this.showMoreText = 'Show Less';else this.showMoreText = 'Show More';\n    },\n    clickList: function clickList(id) {\n      var checkList = document.getElementById(id);\n      if (checkList.classList.contains('visible')) checkList.classList.remove('visible');else checkList.classList.add('visible');\n    },\n    selectAll: function selectAll() {\n      var checked = document.getElementById('selectAllBtn').checked;\n\n      for (var i = 0; i < this.$parent.resources.length; i++) {\n        document.getElementById('res' + this.$parent.resources[i].id).checked = checked;\n      }\n    }\n  },\n  mounted: function mounted() {\n    //Listen for modal submit\n    document.getElementById('BookingModal-Form').addEventListener('submit', this.submitBooking);\n  }\n};",{"version":3,"sources":["BookingModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"BookingModal\" id=\"BookingModal\" aria-hidden=\"true\">\n                \n        <div class=\"modal-header\">\n            <div class=\"text\">Booking</div>\n            <div class=\"date\" id='BookingModal-HeaderDate'></div>\n            \n            <button type=\"button\" class=\"close\" aria-label=\"Close\" @click=\"closeModal()\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n\n        <form id=\"BookingModal-Form\">\n\n            <div class=\"inputLg\">\n                <label class=\"sectionLabel\">Location</label>\n                <select id=\"BookingModal-Location\" class=\"form-control\" required>\n                    <option v-for=\"location in $parent.locations\" :key='location.id' :id=\"'loc'+location.id\" :value='location.id'>{{location.name}}</option>\n                </select>\n            </div>\n\n            <div class=\"inputLg\" v-if='checkFormType() == \"room\"'>\n                <label class=\"sectionLabel\">Meeting Type</label>\n                <select id=\"BookingModal-Type\" class=\"form-control\" required>\n                    <option v-for=\"type in $parent.types\" :key='type.id' :value='type.id'>{{type.type}}</option>\n                </select>\n            </div>\n                \n            <div class=\"inputLg\" v-if='checkFormType() == \"room\"'>\n                <label class=\"sectionLabel\">Title</label>\n                <input type=\"text\" id=\"BookingModal-Title\" class=\"form-control\" placeholder=\"Title of your booking...\" required autofocus>\n            </div>\n\n            <div class=\"inputLg\" v-if='checkFormType() == \"room\"'>\n                <label class=\"sectionLabel\">Description</label>\n                <textarea type=\"text\" id=\"BookingModal-Description\" class=\"form-control\" placeholder=\"Describe your booking...\"></textarea>\n            </div>\n\n            <div class=\"inputSmLeft\">\n                <label class=\"sectionLabel\">Start Time</label>\n                <input type=\"time\" min=\"7:00\" max=\"22:00\" step=\"300\" id=\"BookingModal-StartTime\" class=\"form-control\" required>\n            </div>\n            \n            <div class=\"inputSmRight\">\n                <label class=\"sectionLabel\">End Time</label>\n                <input type=\"time\" min=\"7:00\" max=\"22:00\" step=\"300\" id=\"BookingModal-EndTime\" class=\"form-control\" required>\n            </div>\n\n            <div class=\"colorSelectorContainer\" :style='styleColorSelector()'>\n                <div class=\"colorLabel\">Color</div>\n\n                <div id='BookingModal-SelectedColor' class=\"selectedColor\" :style=\"{background: selectedColor}\" @click=\"selectColor()\"></div>\n                \n                <div class=\"colorRow\">\n                    <div id='BookingModal-ColorOption0' class=\"colorOption\" style=\"background:blue;\" @click=\"selectColor('blue')\"></div>\n                    <div id='BookingModal-ColorOption1' class=\"colorOption\" style=\"background:red;\" @click=\"selectColor('red')\"></div>\n                    <div id='BookingModal-ColorOption2' class=\"colorOption\" style=\"background:yellow;\" @click=\"selectColor('yellow')\"></div>\n                    <div id='BookingModal-ColorOption3' class=\"colorOption\" style=\"background:purple;\" @click=\"selectColor('purple')\"></div>\n                </div>\n                <div class=\"colorRow\">\n                    <div id='BookingModal-ColorOption4' class=\"colorOption\" style=\"background:green;\" @click=\"selectColor('green')\"></div>\n                    <div id='BookingModal-ColorOption5' class=\"colorOption\" style=\"background:pink;\" @click=\"selectColor('pink')\"></div>\n                    <div id='BookingModal-ColorOption6' class=\"colorOption\" style=\"background:orange;\" @click=\"selectColor('orange')\"></div>\n                    <div id='BookingModal-ColorOption7' class=\"colorOption\" style=\"background:brown;\" @click=\"selectColor('brown')\"></div>\n                </div>\n                \n            </div>\n            \n            <div class=\"sliderContainer\" v-if='checkFormType() == \"room\"'>\n                <div class=\"noiseLabel\">Noise Level</div>\n                <div class=\"value\" id=\"BookingModal-NoiseValue\">Quite</div>\n                <input type=\"range\" min=\"-1\" max=\"1\" value=\"0\" class=\"slider\" id=\"BookingModal-NoiseSlider\" @input=\"getRangeValue()\">\n            </div>\n\n            <!-- Advanced Options -->            \n            <button class=\"btn btn-outline-secondary advancedBtn\" type=\"button\" @click=\"changeOptions()\">{{showMoreText}}</button>\n\n            <div class=\"inputLg\" v-if=\"showMore\">\n                <div id=\"resources\" class=\"dropdown-check-list\">\n                    <span class=\"anchor\" @click=\"clickList('resources')\">Select Resources</span>\n                    <div class=\"items\">\n                        <label class=\"container\" @click=\"selectAll()\">\n                            <div class=\"text\">Select All</div>\n                            <input type=\"checkbox\" id='selectAllBtn'>\n                            <span class=\"checkmark\"></span>\n                        </label>\n                        <label class=\"container\" v-for=\"resource in $parent.resources\" :key='resource.id'>\n                            <div class=\"text\">{{resource.name}}</div>\n                            <input type=\"checkbox\" :id=\"'res'+resource.id\">\n                            <span class=\"checkmark\"></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n\n            <button class=\"btn btn-success submitBtn\" type=\"submit\">Submit</button>\n            <button class=\"btn btn-secondary cancelBtn\" type=\"button\" @click=\"closeModal()\">Cancel</button>\n        </form>\n\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n    //Personal CSS\n    @import \"./css/BookingModal.css\";\n</style>\n\n<script>\n    import * as api from '@/services/api_access';\n\n    export default {\n        data() {\n            return {\n                date: null,\n                location: null,\n\n                //Color options\n                selectedColor: 'blue',\n\n                showMoreText: 'Show More',\n                showMore: false\n            }\n        },\n\n        methods: {\n            openModal(date, location, startTime, endTime) {\n                this.date = date;\n                this.location = location;\n\n                //Modal Header\n                document.getElementById('BookingModal-HeaderDate').innerHTML = this.getDayOfTheWeek(date)+', '+this.getMonthName(date)+' '+date.getDate()+' '+date.getFullYear();\n\n                //Modal Location\n                document.getElementById('BookingModal-Location').value = location.id;\n\n                //Time\n                document.getElementById('BookingModal-StartTime').value = startTime;\n                document.getElementById('BookingModal-EndTime').value = endTime;\n\n                //Scroll\n                document.getElementById('BookingModal').scrollTo(0, 0);\n\n                document.getElementById(\"BookingModal\").style.opacity = \"1.0\";\n                document.getElementById(\"BookingModal\").style.visibility = \"visible\";\n            },\n            closeModal() {\n                document.getElementById(\"BookingModal\").style.opacity = \"0.0\";\n                document.getElementById(\"BookingModal\").style.visibility = \"hidden\";\n                //colors\n                document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n                for (var index = 0; index < 8; index++)\n                    document.getElementById('BookingModal-ColorOption'+index).style.visibility = 'hidden';\n                //inputs\n                this.date = null;\n                this.location = null;\n                document.getElementById('BookingModal-Title').value = '';          \n                document.getElementById('BookingModal-Description').value = '';\n                document.getElementById('BookingModal-NoiseSlider').value = 0;\n                document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n            },\n            \n            submitBooking(event) {\n                var date = this.date.toJSON().slice(0, 10);\n                var locationID = document.getElementById('BookingModal-Location').value;\n                var locationName = this.$parent.locations[document.getElementById('BookingModal-Location').value].name;\n                \n                var resourceID = '';\n                for (var i = 0; i < this.$parent.resources.length; i++) {\n                    if (document.getElementById('res'+this.$parent.resources[i].id) != null && document.getElementById('res'+this.$parent.resources[i].id).checked) {\n                        resourceID += this.$parent.resources[i].id + ',';\n                    }\n                }\n                if (resourceID == '')\n                    resourceID = '0';\n                else\n                    resourceID = resourceID.substring(0, resourceID.length - 1);\n                \n                var title = '';\n                if (document.getElementById('BookingModal-Title'))\n                    title = document.getElementById('BookingModal-Title').value;\n                var description = '';\n                if (document.getElementById('BookingModal-Description'))\n                    description = document.getElementById('BookingModal-Description').value;\n                \n                var startTime = document.getElementById('BookingModal-StartTime').value;\n                var endTime = document.getElementById('BookingModal-EndTime').value;\n                var bookingColor = this.selectedColor;\n                \n                var noiseLevel = 0;\n                if (document.getElementById('BookingModal-NoiseSlider'))\n                    noiseLevel = document.getElementById('BookingModal-NoiseSlider').value;\n                \n                api.insertBooking(date, locationID, locationName, resourceID, title, description, startTime, endTime, bookingColor, noiseLevel).then(bookingResult => {\n                    if (bookingResult == '100') {\n                        this.closeModal();\n                        this.$parent.checkBookings();\n                    }\n                    \n                    else if (bookingResult == '403') \n                        alert('You dont have permission to make a booking');\n                    else if (bookingResult == '404') \n                        alert('Booking time must be within the time range (watch out for AM PM)');\n                    else if (bookingResult == '405') \n                        alert('Start Time must be before End Time');\n                    else if (bookingResult == '406') \n                        alert('Time is not within a 5 min interval');\n                    else if (bookingResult == '407') \n                        alert('Time Overlap');\n                    else if (bookingResult == '408') \n                        alert('A Silent Reservation Has Already Been Made During This Time');\n                    else if (bookingResult == '409') \n                        alert('A Loud Reservation Has Already Been Made During This Time');\n                });\n                \n                //Prevent submit refresh\n                event.preventDefault();\n            },\n\n            checkFormType() {\n                var type = 'room';\n                if (this.location != null && this.location.type != undefined)\n                    type = this.location.type;\n                return type;\n            },\n            \n            styleColorSelector() {\n                if (this.location != null && this.location.type != undefined) {\n                    if (this.location.type == 'desk')\n                        return 'width: 40%; margin: 10px 30%;';\n                }\n            },\n\n            getDayOfTheWeek(date) {\n                switch(date.getDay()) {\n                    case 0: return 'Sunday';\n                    case 1: return 'Monday';\n                    case 2: return 'Tuesday';\n                    case 3: return 'Wednesday';\n                    case 4: return 'Thursday';\n                    case 5: return 'Friday';\n                    case 6: return 'Saturday';\n                }\n            },\n            getMonthName(date) {\n                switch(date.getMonth()) {\n                    case 0: return 'January';\n                    case 1: return 'February';\n                    case 2: return 'March';\n                    case 3: return 'April';\n                    case 4: return 'May';\n                    case 5: return 'June';\n                    case 6: return 'July';\n                    case 7: return 'August';\n                    case 8: return 'September';\n                    case 9: return 'October';\n                    case 10: return 'November';\n                    case 11: return 'December';\n                }\n            },\n\n            selectColor(input) {\n                if (input == null) {\n                    document.getElementById('BookingModal-SelectedColor').style.visibility = 'hidden';\n                    for (var index1 = 0; index1 < 8; index1++) {\n                        document.getElementById('BookingModal-ColorOption'+index1).style.visibility = 'visible';\n                    }\n                }\n                else {\n                    this.selectedColor = input;\n                    document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n                    for (var index2 = 0; index2 < 8; index2++) {\n                        document.getElementById('BookingModal-ColorOption'+index2).style.visibility = 'hidden';\n                    }\n                }\n            },\n\n            getRangeValue() {\n                if (document.getElementById('BookingModal-NoiseSlider').value == -1)\n                    document.getElementById('BookingModal-NoiseValue').innerHTML = 'Requires Quiet';\n                else if (document.getElementById('BookingModal-NoiseSlider').value == 0)\n                    document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n                else if (document.getElementById('BookingModal-NoiseSlider').value == 1)\n                    document.getElementById('BookingModal-NoiseValue').innerHTML = 'Loud';\n            },\n\n            changeOptions() {\n                this.showMore = !this.showMore;\n                if (this.showMore)\n                    this.showMoreText = 'Show Less';\n                else\n                    this.showMoreText = 'Show More';\n            },\n\n            clickList(id) {\n                var checkList = document.getElementById(id);\n                if (checkList.classList.contains('visible'))\n                    checkList.classList.remove('visible');\n                else\n                    checkList.classList.add('visible');\n            },\n            selectAll() {\n                var checked = document.getElementById('selectAllBtn').checked;\n                for (var i = 0; i < this.$parent.resources.length; i++) {\n                    document.getElementById('res'+this.$parent.resources[i].id).checked = checked;\n                }\n            }\n        },\n\n        mounted() {\n            //Listen for modal submit\n            document.getElementById('BookingModal-Form').addEventListener('submit', this.submitBooking);\n        }\n    }\n</script>"],"sourceRoot":"src/views/3. user views/components/modals"}]}