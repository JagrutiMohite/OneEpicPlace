{"remainingRequest":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/babel-loader/lib/index.js!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/src/views/3. user views/components/modals/BookedModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/src/views/3. user views/components/modals/BookedModal.vue","mtime":1562358994137},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _parseInt from \"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as api from '@/services/api_access';\nexport default {\n  data: function data() {\n    return {\n      //Values are pre entered to avoid error message\n      booking: {\n        username: '',\n        date: '',\n        title: '',\n        description: ''\n      }\n    };\n  },\n  methods: {\n    openModal: function openModal(booking) {\n      this.booking = booking; //Modal Location\n\n      document.getElementById('BookingModal-Location').value = booking.locationID; //Time\n\n      var startTime = [_parseInt(booking.startTime.split(':')[0]), _parseInt(booking.startTime.split(':')[1])];\n      if (startTime[0] < 10) startTime[0] = '0' + startTime[0];\n      if (startTime[1] < 10) startTime[1] = '0' + startTime[1];\n      document.getElementById('BookedModal-StartTime').value = startTime[0] + \":\" + startTime[1];\n      var endTime = [_parseInt(booking.endTime.split(':')[0]), _parseInt(booking.endTime.split(':')[1])];\n      if (endTime[0] < 10) endTime[0] = '0' + endTime[0];\n      if (endTime[1] < 10) endTime[1] = '0' + endTime[1];\n      document.getElementById('BookedModal-EndTime').value = endTime[0] + \":\" + endTime[1]; //Scroll\n\n      document.getElementById('BookedModal').scrollTo(0, 0);\n      document.getElementById(\"BookedModal\").style.opacity = \"1.0\";\n      document.getElementById(\"BookedModal\").style.visibility = \"visible\";\n    },\n    closeModal: function closeModal() {\n      document.getElementById(\"BookedModal\").style.opacity = \"0.0\";\n      document.getElementById(\"BookedModal\").style.visibility = \"hidden\";\n    },\n    //This feature is not reforced by the server (For presentation only)\n    deleateBooking: function deleateBooking() {\n      var _this = this;\n\n      var responce = confirm(\"Are you sure you want to delete booking - \" + this.booking.title);\n\n      if (responce) {\n        api.removeBooking(this.booking.id).then(function (removeResponce) {\n          _this.$parent.checkBookings();\n\n          _this.closeModal();\n        });\n      }\n    },\n    styleButton: function styleButton() {\n      if (api.getLocalUser().privilege == 6) return 'width: 48%';\n\n      if (this.booking.date != '') {\n        var bookingDate = new Date(this.booking.date);\n        bookingDate.setHours(this.booking.startTime.split(':')[0], this.booking.startTime.split(':')[1]);\n        if (this.booking.userID != api.getLocalUser().id && (bookingDate - new Date()) / (1000 * 60 * 60) > 22) return 'width: 48%';else return 'width: 100%';\n      }\n    },\n    inputDisabled: function inputDisabled() {\n      //This feature is not reforced by the server (For presentation only)\n      if (api.getLocalUser().privilege == 6) return false;\n\n      if (this.booking.date != '') {\n        var bookingDate = new Date(this.booking.date);\n        bookingDate.setHours(this.booking.startTime.split(':')[0], this.booking.startTime.split(':')[1]);\n        if (this.booking.userID != api.getLocalUser().id && (bookingDate - new Date()) / (1000 * 60 * 60) > 22) return false;else return true;\n      }\n    }\n  }\n};",{"version":3,"sources":["BookedModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"BookedModal\" id=\"BookedModal\" aria-hidden=\"true\">\n                \n        <div class=\"modal-header\">\n            <div class=\"text\">Booking</div>\n\n            <button type=\"button\" class=\"close\" aria-label=\"Close\" @click=\"closeModal()\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n\n        <div class=\"inputSmLeft\">\n            <label class=\"sectionLabel\">Booked By</label>\n            <input type=\"text\" class=\"form-control\" id='BookedModal-Name' :placeholder=\"booking.username\" :disabled='inputDisabled()'>\n        </div>\n        \n        <div class=\"inputSmRight\">\n            <label class=\"sectionLabel\">Date</label>\n            <input type=\"date\" class=\"form-control\" id='BookedModal-Date' :value='booking.date.slice(0, 10)' :disabled='inputDisabled()'>\n        </div>\n\n        <div class=\"inputLg\">\n            <label class=\"sectionLabel\">Location</label>\n            <select type=\"text\" id=\"BookedModal-Location\" class=\"form-control\" :disabled='inputDisabled()'>\n                <option v-for=\"option in $parent.locations\" :key='option.id' :id=\"'option'+option.id\" :value='option.id'>{{option.name}}</option>\n            </select>\n        </div>\n                \n        <div class=\"inputLg\">\n            <label class=\"sectionLabel\">Title</label>\n            <input type=\"text\" id=\"BookedModal-Title\" class=\"form-control\" :placeholder='booking.title' :disabled='inputDisabled()'>\n        </div>\n\n        <div class=\"inputLg\">\n            <label class=\"sectionLabel\">Description</label>\n            <textarea type=\"text\" id=\"BookedModal-Description\" class=\"form-control\" :placeholder='booking.description' :disabled='inputDisabled()'></textarea>\n        </div>\n\n        <div class=\"inputSmLeft\">\n            <label class=\"sectionLabel\">Start Time</label>\n            <input type=\"time\" min=\"7:00\" max=\"22:00\" step=\"300\" id=\"BookedModal-StartTime\" class=\"form-control\" :disabled='inputDisabled()'>\n        </div>\n        \n        <div class=\"inputSmRight\">\n            <label class=\"sectionLabel\">End Time</label>\n            <input type=\"time\" min=\"7:00\" max=\"22:00\" step=\"300\" id=\"BookedModal-EndTime\" class=\"form-control\" :disabled='inputDisabled()'>\n        </div>\n\n        <div class=\"footerBtnContainer\">\n            <button v-if='!inputDisabled()' class=\"btn btn-danger deleateBtn\" :style='styleButton()' @click=\"deleateBooking()\">Deleate</button>\n            <button class=\"btn btn-secondary cancelBtn\" :style='styleButton()' @click=\"closeModal()\">Close</button>\n        </div>\n\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n    //Personal CSS\n    @import \"css/BookedModal.css\";\n</style>\n\n<script>\n    import * as api from '@/services/api_access';\n\n    export default {\n        data() {\n            return {\n                //Values are pre entered to avoid error message\n                booking: {username: '', date: '', title: '', description: ''}\n            }\n        },\n        methods: {\n            openModal(booking) {\n                this.booking = booking;\n\n                //Modal Location\n                document.getElementById('BookingModal-Location').value = booking.locationID;\n                \n                //Time\n                var startTime = [\n                    parseInt(booking.startTime.split(':')[0]),\n                    parseInt(booking.startTime.split(':')[1])\n                ];\n                if (startTime[0] < 10)\n                    startTime[0] = '0'+startTime[0];\n                if (startTime[1] < 10)\n                    startTime[1] = '0'+startTime[1];\n                document.getElementById('BookedModal-StartTime').value = startTime[0] + \":\" + startTime[1];\n\n                var endTime = [\n                    parseInt(booking.endTime.split(':')[0]),\n                    parseInt(booking.endTime.split(':')[1])\n                ];\n                if (endTime[0] < 10)\n                    endTime[0] = '0'+endTime[0];\n                if (endTime[1] < 10)\n                    endTime[1] = '0'+endTime[1];\n                document.getElementById('BookedModal-EndTime').value = endTime[0] + \":\" + endTime[1];\n\n                //Scroll\n                document.getElementById('BookedModal').scrollTo(0, 0);\n                \n                document.getElementById(\"BookedModal\").style.opacity = \"1.0\";\n                document.getElementById(\"BookedModal\").style.visibility = \"visible\";\n            },\n            closeModal() {\n                document.getElementById(\"BookedModal\").style.opacity = \"0.0\";\n                document.getElementById(\"BookedModal\").style.visibility = \"hidden\";\n            },\n\n            //This feature is not reforced by the server (For presentation only)\n            deleateBooking() {\n                var responce = confirm(\"Are you sure you want to delete booking - \" + this.booking.title);\n                if (responce) {\n                    api.removeBooking(this.booking.id).then(\n                        removeResponce => {\n                            this.$parent.checkBookings();\n                            this.closeModal();\n                        }\n                    );\n                }\n            },\n\n            styleButton() {\n                if (api.getLocalUser().privilege == 6)\n                    return 'width: 48%';\n\n                if (this.booking.date != '') {\n                    var bookingDate = new Date(this.booking.date);\n                    bookingDate.setHours(this.booking.startTime.split(':')[0], this.booking.startTime.split(':')[1]);\n                    if (this.booking.userID != api.getLocalUser().id && (bookingDate - new Date())/(1000*60*60) > 22)\n                        return 'width: 48%';\n                    else\n                        return 'width: 100%';\n                }\n            },\n            inputDisabled() {\n                //This feature is not reforced by the server (For presentation only)\n                if (api.getLocalUser().privilege == 6)\n                    return false;\n\n                if (this.booking.date != '') {\n                    var bookingDate = new Date(this.booking.date);\n                    bookingDate.setHours(this.booking.startTime.split(':')[0], this.booking.startTime.split(':')[1]);\n                    if (this.booking.userID != api.getLocalUser().id && (bookingDate - new Date())/(1000*60*60) > 22)\n                        return false;\n                    else\n                        return true;\n                }\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/views/3. user views/components/modals"}]}