{"remainingRequest":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/src/components/Header.vue","mtime":1562783753699},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace-WebsiteSchedulingExtension/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/services/api_access';\n\nexport default {\n    data() {\n        return {\n            ADMIN_PRIVILEGE: 6,\n            MIN_MEMBER_PRIVILEGE: 1,\n            privilegeLevel: 0\n        }\n    },\n\n    methods: {\n        getUserPrivilege() {\n            var user = api.getLocalUser();\n            if (user != null && user.username != undefined && user.password != undefined) {\n                api.getAccount(user.username, user.password).then(\n                    fetchedUser => {\n                        if (fetchedUser == '409')\n                            this.logout();\n                        else {\n                            this.privilegeLevel = fetchedUser.privilege;\n                            this.checkRoutePrivilege();\n                        }\n                    }\n                );\n            }\n            else {\n                this.privilegeLevel = 0;\n                this.checkRoutePrivilege();\n            }\n        },\n        checkRoutePrivilege() {\n            var route = this.$router.currentRoute.name;\n            \n            switch(route) {\n                //All\n                case 'home':\n                    break;\n                case 'about':\n                    break;\n\n                //Non Users\n                case 'login':\n                    if (this.privilegeLevel > this.MIN_MEMBER_PRIVILEGE)\n                        this.$router.push('/');\n                    break;\n\n                //Users\n                case 'profile':\n                case 'schedule':\n                    if (this.privilegeLevel < this.MIN_MEMBER_PRIVILEGE)\n                        this.$router.push('/');\n                    break;\n\n                //Admin\n                case 'data':\n                case 'analysis':\n                    if (this.privilegeLevel < this.ADMIN_PRIVILEGE)\n                        this.$router.push('/');\n                    break;\n            }\n        },\n\n        logout() {\n            api.logoutUser();\n            this.privilegeLevel = 0;\n            this.$router.push('/');\n        }\n    },\n\n    mounted() {\n        this.getUserPrivilege();\n    }\n}\n",{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"Header\">\n\n        <!-- Text -->\n        <div class=\"text-container\">\n            <router-link class=\"text\" exact-active-class=\"active\" to=\"/\">\n                One EPIC Place\n            </router-link>\n        </div>\n\n        <!-- Logo -->\n        <div class=\"logo-container\">\n            <img class=\"logo\" src=\"../assets/logo.png\"/>\n        </div>\n\n        <!-- Non User Navbar -->\n        <div class=\"navbar\" v-if=\"privilegeLevel < MIN_MEMBER_PRIVILEGE\">\n            <div class=\"buttonGroup\">\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/\">Home\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/about\">About\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/login\">Login\n                    <div class=\"underline\"></div>\n                </router-link>\n            </div>\n        </div>\n\n        <!-- User Navbar -->\n        <div class=\"navbar\" v-if=\"privilegeLevel >= MIN_MEMBER_PRIVILEGE && privilegeLevel < ADMIN_PRIVILEGE\">\n            <div class=\"buttonGroup\">\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/\">Home\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/profile\">Profile\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/schedule\">Schedule\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/about\">About\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/\" v-on:click.native=\"logout()\">Logout</router-link>\n            </div>\n        </div>\n\n        <!-- Admin Navbar -->\n        <div class=\"navbar\" v-if=\"privilegeLevel==ADMIN_PRIVILEGE\">\n            <div class=\"buttonGroup\">\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/\">Home\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/profile\">Profile\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/schedule\">Schedule\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/data\">Data\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/analysis\">Analysis\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/about\">About\n                    <div class=\"underline\"></div>\n                </router-link>\n                <router-link class=\"text\" exact-active-class=\"active\" to=\"/\" v-on:click.native=\"logout()\">Logout</router-link>\n            </div>\n        </div>\n\n        <!-- Line -->\n        <div class=\"line\"></div>\n\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n    //Personal CSS\n    @import \"css/Header.css\";\n</style>\n\n<script>\n    import * as api from '@/services/api_access';\n\n    export default {\n        data() {\n            return {\n                ADMIN_PRIVILEGE: 6,\n                MIN_MEMBER_PRIVILEGE: 1,\n                privilegeLevel: 0\n            }\n        },\n\n        methods: {\n            getUserPrivilege() {\n                var user = api.getLocalUser();\n                if (user != null && user.username != undefined && user.password != undefined) {\n                    api.getAccount(user.username, user.password).then(\n                        fetchedUser => {\n                            if (fetchedUser == '409')\n                                this.logout();\n                            else {\n                                this.privilegeLevel = fetchedUser.privilege;\n                                this.checkRoutePrivilege();\n                            }\n                        }\n                    );\n                }\n                else {\n                    this.privilegeLevel = 0;\n                    this.checkRoutePrivilege();\n                }\n            },\n            checkRoutePrivilege() {\n                var route = this.$router.currentRoute.name;\n                \n                switch(route) {\n                    //All\n                    case 'home':\n                        break;\n                    case 'about':\n                        break;\n\n                    //Non Users\n                    case 'login':\n                        if (this.privilegeLevel > this.MIN_MEMBER_PRIVILEGE)\n                            this.$router.push('/');\n                        break;\n\n                    //Users\n                    case 'profile':\n                    case 'schedule':\n                        if (this.privilegeLevel < this.MIN_MEMBER_PRIVILEGE)\n                            this.$router.push('/');\n                        break;\n\n                    //Admin\n                    case 'data':\n                    case 'analysis':\n                        if (this.privilegeLevel < this.ADMIN_PRIVILEGE)\n                            this.$router.push('/');\n                        break;\n                }\n            },\n\n            logout() {\n                api.logoutUser();\n                this.privilegeLevel = 0;\n                this.$router.push('/');\n            }\n        },\n\n        mounted() {\n            this.getUserPrivilege();\n        }\n    }\n</script>\n"]}]}