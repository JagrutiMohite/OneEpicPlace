{"remainingRequest":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/src/views/3. user views/components/modals/BookingModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/src/views/3. user views/components/modals/BookingModal.vue","mtime":1562358994137},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/services/api_access';\n\nexport default {\n    data() {\n        return {\n            date: null,\n            location: null,\n\n            //Color options\n            selectedColor: 'blue',\n\n            showMoreText: 'Show More',\n            showMore: false\n        }\n    },\n\n    methods: {\n        openModal(date, location, startTime, endTime) {\n            this.date = date;\n            this.location = location;\n\n            //Modal Header\n            document.getElementById('BookingModal-HeaderDate').innerHTML = this.getDayOfTheWeek(date)+', '+this.getMonthName(date)+' '+date.getDate()+' '+date.getFullYear();\n\n            //Modal Location\n            document.getElementById('BookingModal-Location').value = location.id;\n\n            //Time\n            document.getElementById('BookingModal-StartTime').value = startTime;\n            document.getElementById('BookingModal-EndTime').value = endTime;\n\n            //Scroll\n            document.getElementById('BookingModal').scrollTo(0, 0);\n\n            document.getElementById(\"BookingModal\").style.opacity = \"1.0\";\n            document.getElementById(\"BookingModal\").style.visibility = \"visible\";\n        },\n        closeModal() {\n            document.getElementById(\"BookingModal\").style.opacity = \"0.0\";\n            document.getElementById(\"BookingModal\").style.visibility = \"hidden\";\n            //colors\n            document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n            for (var index = 0; index < 8; index++)\n                document.getElementById('BookingModal-ColorOption'+index).style.visibility = 'hidden';\n            //inputs\n            this.date = null;\n            this.location = null;\n            document.getElementById('BookingModal-Title').value = '';          \n            document.getElementById('BookingModal-Description').value = '';\n            document.getElementById('BookingModal-NoiseSlider').value = 0;\n            document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n        },\n        \n        submitBooking(event) {\n            var date = this.date.toJSON().slice(0, 10);\n            var locationID = document.getElementById('BookingModal-Location').value;\n            var locationName = this.$parent.locations[document.getElementById('BookingModal-Location').value].name;\n            \n            var resourceID = '';\n            for (var i = 0; i < this.$parent.resources.length; i++) {\n                if (document.getElementById('res'+this.$parent.resources[i].id) != null && document.getElementById('res'+this.$parent.resources[i].id).checked) {\n                    resourceID += this.$parent.resources[i].id + ',';\n                }\n            }\n            if (resourceID == '')\n                resourceID = '0';\n            else\n                resourceID = resourceID.substring(0, resourceID.length - 1);\n            \n            var title = '';\n            if (document.getElementById('BookingModal-Title'))\n                title = document.getElementById('BookingModal-Title').value;\n            var description = '';\n            if (document.getElementById('BookingModal-Description'))\n                description = document.getElementById('BookingModal-Description').value;\n            \n            var startTime = document.getElementById('BookingModal-StartTime').value;\n            var endTime = document.getElementById('BookingModal-EndTime').value;\n            var bookingColor = this.selectedColor;\n            \n            var noiseLevel = 0;\n            if (document.getElementById('BookingModal-NoiseSlider'))\n                noiseLevel = document.getElementById('BookingModal-NoiseSlider').value;\n            \n            api.insertBooking(date, locationID, locationName, resourceID, title, description, startTime, endTime, bookingColor, noiseLevel).then(bookingResult => {\n                if (bookingResult == '100') {\n                    this.closeModal();\n                    this.$parent.checkBookings();\n                }\n                \n                else if (bookingResult == '403') \n                    alert('You dont have permission to make a booking');\n                else if (bookingResult == '404') \n                    alert('Booking time must be within the time range (watch out for AM PM)');\n                else if (bookingResult == '405') \n                    alert('Start Time must be before End Time');\n                else if (bookingResult == '406') \n                    alert('Time is not within a 5 min interval');\n                else if (bookingResult == '407') \n                    alert('Time Overlap');\n                else if (bookingResult == '408') \n                    alert('A Silent Reservation Has Already Been Made During This Time');\n                else if (bookingResult == '409') \n                    alert('A Loud Reservation Has Already Been Made During This Time');\n            });\n            \n            //Prevent submit refresh\n            event.preventDefault();\n        },\n\n        checkFormType() {\n            var type = 'room';\n            if (this.location != null && this.location.type != undefined)\n                type = this.location.type;\n            return type;\n        },\n        \n        styleColorSelector() {\n            if (this.location != null && this.location.type != undefined) {\n                if (this.location.type == 'desk')\n                    return 'width: 40%; margin: 10px 30%;';\n            }\n        },\n\n        getDayOfTheWeek(date) {\n            switch(date.getDay()) {\n                case 0: return 'Sunday';\n                case 1: return 'Monday';\n                case 2: return 'Tuesday';\n                case 3: return 'Wednesday';\n                case 4: return 'Thursday';\n                case 5: return 'Friday';\n                case 6: return 'Saturday';\n            }\n        },\n        getMonthName(date) {\n            switch(date.getMonth()) {\n                case 0: return 'January';\n                case 1: return 'February';\n                case 2: return 'March';\n                case 3: return 'April';\n                case 4: return 'May';\n                case 5: return 'June';\n                case 6: return 'July';\n                case 7: return 'August';\n                case 8: return 'September';\n                case 9: return 'October';\n                case 10: return 'November';\n                case 11: return 'December';\n            }\n        },\n\n        selectColor(input) {\n            if (input == null) {\n                document.getElementById('BookingModal-SelectedColor').style.visibility = 'hidden';\n                for (var index1 = 0; index1 < 8; index1++) {\n                    document.getElementById('BookingModal-ColorOption'+index1).style.visibility = 'visible';\n                }\n            }\n            else {\n                this.selectedColor = input;\n                document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n                for (var index2 = 0; index2 < 8; index2++) {\n                    document.getElementById('BookingModal-ColorOption'+index2).style.visibility = 'hidden';\n                }\n            }\n        },\n\n        getRangeValue() {\n            if (document.getElementById('BookingModal-NoiseSlider').value == -1)\n                document.getElementById('BookingModal-NoiseValue').innerHTML = 'Requires Quiet';\n            else if (document.getElementById('BookingModal-NoiseSlider').value == 0)\n                document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n            else if (document.getElementById('BookingModal-NoiseSlider').value == 1)\n                document.getElementById('BookingModal-NoiseValue').innerHTML = 'Loud';\n        },\n\n        changeOptions() {\n            this.showMore = !this.showMore;\n            if (this.showMore)\n                this.showMoreText = 'Show Less';\n            else\n                this.showMoreText = 'Show More';\n        },\n\n        clickList(id) {\n            var checkList = document.getElementById(id);\n            if (checkList.classList.contains('visible'))\n                checkList.classList.remove('visible');\n            else\n                checkList.classList.add('visible');\n        },\n        selectAll() {\n            var checked = document.getElementById('selectAllBtn').checked;\n            for (var i = 0; i < this.$parent.resources.length; i++) {\n                document.getElementById('res'+this.$parent.resources[i].id).checked = checked;\n            }\n        }\n    },\n\n    mounted() {\n        //Listen for modal submit\n        document.getElementById('BookingModal-Form').addEventListener('submit', this.submitBooking);\n    }\n}\n",{"version":3,"sources":["BookingModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"BookingModal.vue","sourceRoot":"src/views/3. user views/components/modals","sourcesContent":["<template>\n    <div class=\"BookingModal\" id=\"BookingModal\" aria-hidden=\"true\">\n                \n        <div class=\"modal-header\">\n            <div class=\"text\">Booking</div>\n            <div class=\"date\" id='BookingModal-HeaderDate'></div>\n            \n            <button type=\"button\" class=\"close\" aria-label=\"Close\" @click=\"closeModal()\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n\n        <form id=\"BookingModal-Form\">\n\n            <div class=\"inputLg\">\n                <label class=\"sectionLabel\">Location</label>\n                <select id=\"BookingModal-Location\" class=\"form-control\" required>\n                    <option v-for=\"location in $parent.locations\" :key='location.id' :id=\"'loc'+location.id\" :value='location.id'>{{location.name}}</option>\n                </select>\n            </div>\n\n            <div class=\"inputLg\" v-if='checkFormType() == \"room\"'>\n                <label class=\"sectionLabel\">Meeting Type</label>\n                <select id=\"BookingModal-Type\" class=\"form-control\" required>\n                    <option v-for=\"type in $parent.types\" :key='type.id' :value='type.id'>{{type.type}}</option>\n                </select>\n            </div>\n                \n            <div class=\"inputLg\" v-if='checkFormType() == \"room\"'>\n                <label class=\"sectionLabel\">Title</label>\n                <input type=\"text\" id=\"BookingModal-Title\" class=\"form-control\" placeholder=\"Title of your booking...\" required autofocus>\n            </div>\n\n            <div class=\"inputLg\" v-if='checkFormType() == \"room\"'>\n                <label class=\"sectionLabel\">Description</label>\n                <textarea type=\"text\" id=\"BookingModal-Description\" class=\"form-control\" placeholder=\"Describe your booking...\"></textarea>\n            </div>\n\n            <div class=\"inputSmLeft\">\n                <label class=\"sectionLabel\">Start Time</label>\n                <input type=\"time\" min=\"7:00\" max=\"22:00\" step=\"300\" id=\"BookingModal-StartTime\" class=\"form-control\" required>\n            </div>\n            \n            <div class=\"inputSmRight\">\n                <label class=\"sectionLabel\">End Time</label>\n                <input type=\"time\" min=\"7:00\" max=\"22:00\" step=\"300\" id=\"BookingModal-EndTime\" class=\"form-control\" required>\n            </div>\n\n            <div class=\"colorSelectorContainer\" :style='styleColorSelector()'>\n                <div class=\"colorLabel\">Color</div>\n\n                <div id='BookingModal-SelectedColor' class=\"selectedColor\" :style=\"{background: selectedColor}\" @click=\"selectColor()\"></div>\n                \n                <div class=\"colorRow\">\n                    <div id='BookingModal-ColorOption0' class=\"colorOption\" style=\"background:blue;\" @click=\"selectColor('blue')\"></div>\n                    <div id='BookingModal-ColorOption1' class=\"colorOption\" style=\"background:red;\" @click=\"selectColor('red')\"></div>\n                    <div id='BookingModal-ColorOption2' class=\"colorOption\" style=\"background:yellow;\" @click=\"selectColor('yellow')\"></div>\n                    <div id='BookingModal-ColorOption3' class=\"colorOption\" style=\"background:purple;\" @click=\"selectColor('purple')\"></div>\n                </div>\n                <div class=\"colorRow\">\n                    <div id='BookingModal-ColorOption4' class=\"colorOption\" style=\"background:green;\" @click=\"selectColor('green')\"></div>\n                    <div id='BookingModal-ColorOption5' class=\"colorOption\" style=\"background:pink;\" @click=\"selectColor('pink')\"></div>\n                    <div id='BookingModal-ColorOption6' class=\"colorOption\" style=\"background:orange;\" @click=\"selectColor('orange')\"></div>\n                    <div id='BookingModal-ColorOption7' class=\"colorOption\" style=\"background:brown;\" @click=\"selectColor('brown')\"></div>\n                </div>\n                \n            </div>\n            \n            <div class=\"sliderContainer\" v-if='checkFormType() == \"room\"'>\n                <div class=\"noiseLabel\">Noise Level</div>\n                <div class=\"value\" id=\"BookingModal-NoiseValue\">Quite</div>\n                <input type=\"range\" min=\"-1\" max=\"1\" value=\"0\" class=\"slider\" id=\"BookingModal-NoiseSlider\" @input=\"getRangeValue()\">\n            </div>\n\n            <!-- Advanced Options -->            \n            <button class=\"btn btn-outline-secondary advancedBtn\" type=\"button\" @click=\"changeOptions()\">{{showMoreText}}</button>\n\n            <div class=\"inputLg\" v-if=\"showMore\">\n                <div id=\"resources\" class=\"dropdown-check-list\">\n                    <span class=\"anchor\" @click=\"clickList('resources')\">Select Resources</span>\n                    <div class=\"items\">\n                        <label class=\"container\" @click=\"selectAll()\">\n                            <div class=\"text\">Select All</div>\n                            <input type=\"checkbox\" id='selectAllBtn'>\n                            <span class=\"checkmark\"></span>\n                        </label>\n                        <label class=\"container\" v-for=\"resource in $parent.resources\" :key='resource.id'>\n                            <div class=\"text\">{{resource.name}}</div>\n                            <input type=\"checkbox\" :id=\"'res'+resource.id\">\n                            <span class=\"checkmark\"></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n\n            <button class=\"btn btn-success submitBtn\" type=\"submit\">Submit</button>\n            <button class=\"btn btn-secondary cancelBtn\" type=\"button\" @click=\"closeModal()\">Cancel</button>\n        </form>\n\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n    //Personal CSS\n    @import \"./css/BookingModal.css\";\n</style>\n\n<script>\n    import * as api from '@/services/api_access';\n\n    export default {\n        data() {\n            return {\n                date: null,\n                location: null,\n\n                //Color options\n                selectedColor: 'blue',\n\n                showMoreText: 'Show More',\n                showMore: false\n            }\n        },\n\n        methods: {\n            openModal(date, location, startTime, endTime) {\n                this.date = date;\n                this.location = location;\n\n                //Modal Header\n                document.getElementById('BookingModal-HeaderDate').innerHTML = this.getDayOfTheWeek(date)+', '+this.getMonthName(date)+' '+date.getDate()+' '+date.getFullYear();\n\n                //Modal Location\n                document.getElementById('BookingModal-Location').value = location.id;\n\n                //Time\n                document.getElementById('BookingModal-StartTime').value = startTime;\n                document.getElementById('BookingModal-EndTime').value = endTime;\n\n                //Scroll\n                document.getElementById('BookingModal').scrollTo(0, 0);\n\n                document.getElementById(\"BookingModal\").style.opacity = \"1.0\";\n                document.getElementById(\"BookingModal\").style.visibility = \"visible\";\n            },\n            closeModal() {\n                document.getElementById(\"BookingModal\").style.opacity = \"0.0\";\n                document.getElementById(\"BookingModal\").style.visibility = \"hidden\";\n                //colors\n                document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n                for (var index = 0; index < 8; index++)\n                    document.getElementById('BookingModal-ColorOption'+index).style.visibility = 'hidden';\n                //inputs\n                this.date = null;\n                this.location = null;\n                document.getElementById('BookingModal-Title').value = '';          \n                document.getElementById('BookingModal-Description').value = '';\n                document.getElementById('BookingModal-NoiseSlider').value = 0;\n                document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n            },\n            \n            submitBooking(event) {\n                var date = this.date.toJSON().slice(0, 10);\n                var locationID = document.getElementById('BookingModal-Location').value;\n                var locationName = this.$parent.locations[document.getElementById('BookingModal-Location').value].name;\n                \n                var resourceID = '';\n                for (var i = 0; i < this.$parent.resources.length; i++) {\n                    if (document.getElementById('res'+this.$parent.resources[i].id) != null && document.getElementById('res'+this.$parent.resources[i].id).checked) {\n                        resourceID += this.$parent.resources[i].id + ',';\n                    }\n                }\n                if (resourceID == '')\n                    resourceID = '0';\n                else\n                    resourceID = resourceID.substring(0, resourceID.length - 1);\n                \n                var title = '';\n                if (document.getElementById('BookingModal-Title'))\n                    title = document.getElementById('BookingModal-Title').value;\n                var description = '';\n                if (document.getElementById('BookingModal-Description'))\n                    description = document.getElementById('BookingModal-Description').value;\n                \n                var startTime = document.getElementById('BookingModal-StartTime').value;\n                var endTime = document.getElementById('BookingModal-EndTime').value;\n                var bookingColor = this.selectedColor;\n                \n                var noiseLevel = 0;\n                if (document.getElementById('BookingModal-NoiseSlider'))\n                    noiseLevel = document.getElementById('BookingModal-NoiseSlider').value;\n                \n                api.insertBooking(date, locationID, locationName, resourceID, title, description, startTime, endTime, bookingColor, noiseLevel).then(bookingResult => {\n                    if (bookingResult == '100') {\n                        this.closeModal();\n                        this.$parent.checkBookings();\n                    }\n                    \n                    else if (bookingResult == '403') \n                        alert('You dont have permission to make a booking');\n                    else if (bookingResult == '404') \n                        alert('Booking time must be within the time range (watch out for AM PM)');\n                    else if (bookingResult == '405') \n                        alert('Start Time must be before End Time');\n                    else if (bookingResult == '406') \n                        alert('Time is not within a 5 min interval');\n                    else if (bookingResult == '407') \n                        alert('Time Overlap');\n                    else if (bookingResult == '408') \n                        alert('A Silent Reservation Has Already Been Made During This Time');\n                    else if (bookingResult == '409') \n                        alert('A Loud Reservation Has Already Been Made During This Time');\n                });\n                \n                //Prevent submit refresh\n                event.preventDefault();\n            },\n\n            checkFormType() {\n                var type = 'room';\n                if (this.location != null && this.location.type != undefined)\n                    type = this.location.type;\n                return type;\n            },\n            \n            styleColorSelector() {\n                if (this.location != null && this.location.type != undefined) {\n                    if (this.location.type == 'desk')\n                        return 'width: 40%; margin: 10px 30%;';\n                }\n            },\n\n            getDayOfTheWeek(date) {\n                switch(date.getDay()) {\n                    case 0: return 'Sunday';\n                    case 1: return 'Monday';\n                    case 2: return 'Tuesday';\n                    case 3: return 'Wednesday';\n                    case 4: return 'Thursday';\n                    case 5: return 'Friday';\n                    case 6: return 'Saturday';\n                }\n            },\n            getMonthName(date) {\n                switch(date.getMonth()) {\n                    case 0: return 'January';\n                    case 1: return 'February';\n                    case 2: return 'March';\n                    case 3: return 'April';\n                    case 4: return 'May';\n                    case 5: return 'June';\n                    case 6: return 'July';\n                    case 7: return 'August';\n                    case 8: return 'September';\n                    case 9: return 'October';\n                    case 10: return 'November';\n                    case 11: return 'December';\n                }\n            },\n\n            selectColor(input) {\n                if (input == null) {\n                    document.getElementById('BookingModal-SelectedColor').style.visibility = 'hidden';\n                    for (var index1 = 0; index1 < 8; index1++) {\n                        document.getElementById('BookingModal-ColorOption'+index1).style.visibility = 'visible';\n                    }\n                }\n                else {\n                    this.selectedColor = input;\n                    document.getElementById('BookingModal-SelectedColor').style.visibility = 'visible';\n                    for (var index2 = 0; index2 < 8; index2++) {\n                        document.getElementById('BookingModal-ColorOption'+index2).style.visibility = 'hidden';\n                    }\n                }\n            },\n\n            getRangeValue() {\n                if (document.getElementById('BookingModal-NoiseSlider').value == -1)\n                    document.getElementById('BookingModal-NoiseValue').innerHTML = 'Requires Quiet';\n                else if (document.getElementById('BookingModal-NoiseSlider').value == 0)\n                    document.getElementById('BookingModal-NoiseValue').innerHTML = 'Quiet';\n                else if (document.getElementById('BookingModal-NoiseSlider').value == 1)\n                    document.getElementById('BookingModal-NoiseValue').innerHTML = 'Loud';\n            },\n\n            changeOptions() {\n                this.showMore = !this.showMore;\n                if (this.showMore)\n                    this.showMoreText = 'Show Less';\n                else\n                    this.showMoreText = 'Show More';\n            },\n\n            clickList(id) {\n                var checkList = document.getElementById(id);\n                if (checkList.classList.contains('visible'))\n                    checkList.classList.remove('visible');\n                else\n                    checkList.classList.add('visible');\n            },\n            selectAll() {\n                var checked = document.getElementById('selectAllBtn').checked;\n                for (var i = 0; i < this.$parent.resources.length; i++) {\n                    document.getElementById('res'+this.$parent.resources[i].id).checked = checked;\n                }\n            }\n        },\n\n        mounted() {\n            //Listen for modal submit\n            document.getElementById('BookingModal-Form').addEventListener('submit', this.submitBooking);\n        }\n    }\n</script>"]}]}