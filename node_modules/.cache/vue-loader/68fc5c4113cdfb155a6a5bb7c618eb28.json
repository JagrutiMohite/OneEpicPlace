{"remainingRequest":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/src/views/3. user views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/src/views/3. user views/Profile.vue","mtime":1562358994138},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/services/api_access';\n\nexport default {\n    methods: {\n        fillProfile() {\n            api.getThisAccount().then(user => {\n                if (user == '409')\n                    this.$parent.$refs.Header.logout();\n                else\n                    document.getElementById('username').value = user.username;\n                    document.getElementById('firstName').value = user.firstName;\n                    document.getElementById('lastName').value = user.lastName;\n                    document.getElementById(\"occupation\").value = user.occupation;\n                    document.getElementById('description').value = user.description;\n                    document.getElementById('email').value = user.email;\n                    document.getElementById('password').value = user.password;\n            });\n        },\n\n        updateProfile(event) {\n            //Handle Update Submit\n            var username = document.getElementById('username').value;\n            var firstName = document.getElementById('firstName').value;\n            var lastName = document.getElementById('lastName').value;\n            var occupation = document.getElementById('occupation').value;\n            var description = document.getElementById('description').value;\n            var email = document.getElementById('email').value;\n            var password = document.getElementById('password').value;\n            \n            //Update user\n            api.updateProfile(email, username, password, firstName, lastName, occupation, description).then(\n                updateResult => {\n                    if (updateResult == '409')\n                        this.$parent.$refs.Header.logout();\n                    else {\n                        this.fillProfile();\n                        alert('Profile updated');\n\n                        if (email != updateResult.email)\n                            alert('Email is taken');\n                        if (username != updateResult.username)\n                            alert('Username is taken');\n                    }\n                }\n            );\n\n            //Prevent form submit refresh\n            event.preventDefault();\n        }\n    },\n\n    mounted() {\n        this.fillProfile();\n        document.getElementById('profileForm').addEventListener('submit', this.updateProfile);\n    }\n}\n\n",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views/3. user views","sourcesContent":["<template>\n    <div class=\"Profile\">\n\n        <form class=\"form-container\" id=\"profileForm\">\n\n            <div class=\"label\">Username</div>\n            <input type=\"text\" class=\"input-box form-control\" id=\"username\" placeholder=\"What would you like to be called?\" required>\n            \n            <div class=\"label\">Name</div>\n            <div class=\"form-inline\">\n                <input type=\"text\" class=\"input-box-sm-left form-control\" id=\"firstName\" placeholder=\"First Name\">\n                <input type=\"text\" class=\"input-box-sm-right form-control\" id=\"lastName\" placeholder=\"Last Name\">\n            </div>\n\n            <div class=\"label\">Occupation</div>\n            <input type=\"text\" class=\"input-box form-control\" id=\"occupation\" placeholder=\"What do you do?\">\n\n            <div class=\"label\">Description</div>\n            <textarea type=\"text\" class=\"input-box form-control\" id=\"description\" placeholder=\"Tell Everyone About yourself!\"></textarea>\n\n            <div class=\"label\">Account Info</div>\n            <div class=\"form-inline\">\n                <input type=\"text\" class=\"input-box-sm-left form-control\" id=\"email\" placeholder=\"Email\" required>\n                <input type=\"text\" class=\"input-box-sm-right form-control\" id=\"password\" placeholder=\"Password\" required>\n            </div>\n\n            <button class=\"btn btn-outline-primary formButton\" type='submit'>Submit</button>\n\n        </form>\n        \n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n    //Personal CSS\n    @import \"css/Profile.css\";\n</style>\n\n<script>\n    import * as api from '@/services/api_access';\n\n    export default {\n        methods: {\n            fillProfile() {\n                api.getThisAccount().then(user => {\n                    if (user == '409')\n                        this.$parent.$refs.Header.logout();\n                    else\n                        document.getElementById('username').value = user.username;\n                        document.getElementById('firstName').value = user.firstName;\n                        document.getElementById('lastName').value = user.lastName;\n                        document.getElementById(\"occupation\").value = user.occupation;\n                        document.getElementById('description').value = user.description;\n                        document.getElementById('email').value = user.email;\n                        document.getElementById('password').value = user.password;\n                });\n            },\n\n            updateProfile(event) {\n                //Handle Update Submit\n                var username = document.getElementById('username').value;\n                var firstName = document.getElementById('firstName').value;\n                var lastName = document.getElementById('lastName').value;\n                var occupation = document.getElementById('occupation').value;\n                var description = document.getElementById('description').value;\n                var email = document.getElementById('email').value;\n                var password = document.getElementById('password').value;\n                \n                //Update user\n                api.updateProfile(email, username, password, firstName, lastName, occupation, description).then(\n                    updateResult => {\n                        if (updateResult == '409')\n                            this.$parent.$refs.Header.logout();\n                        else {\n                            this.fillProfile();\n                            alert('Profile updated');\n\n                            if (email != updateResult.email)\n                                alert('Email is taken');\n                            if (username != updateResult.username)\n                                alert('Username is taken');\n                        }\n                    }\n                );\n\n                //Prevent form submit refresh\n                event.preventDefault();\n            }\n        },\n\n        mounted() {\n            this.fillProfile();\n            document.getElementById('profileForm').addEventListener('submit', this.updateProfile);\n        }\n    }\n\n</script>\n"]}]}