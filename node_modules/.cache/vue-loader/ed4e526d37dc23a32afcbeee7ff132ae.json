{"remainingRequest":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/src/views/4. admin views/components/modals/resources/ViewResourceModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/src/views/4. admin views/components/modals/resources/ViewResourceModal.vue","mtime":1562358994140},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jagrutimohite/Documents/web page internship/OneEpicPlace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/services/api_access';\n\nexport default {\n    data() {\n        return {\n            resource: null\n        }\n    },\n\n    methods: {\n        openModal(resource) {\n            //Data\n            this.resource = resource;\n            \n            //Fields\n            document.getElementById(\"ViewResourceModal-Name\").value = resource.name;\n            document.getElementById(\"ViewResourceModal-Quantity\").value = resource.quantity;\n\n            //Scroll\n            document.getElementById('ViewResourceModal').scrollTo(0, 0);\n\n            document.getElementById(\"ViewResourceModal\").style.opacity = \"1.0\";\n            document.getElementById(\"ViewResourceModal\").style.visibility = \"visible\";\n        },\n        closeModal() {\n            //resource\n            this.resource = null;\n\n            document.getElementById(\"ViewResourceModal\").style.opacity = \"0.0\";\n            document.getElementById(\"ViewResourceModal\").style.visibility = \"hidden\";\n        },\n        \n        updateResource(event) {\n            var id = this.resource.id;\n            var previousName = this.resource.name;\n            var name = document.getElementById(\"ViewResourceModal-Name\").value;\n            var quantity = document.getElementById(\"ViewResourceModal-Quantity\").value;\n            \n            api.admin_UpdateResource(id, previousName, name, quantity).then(updateResult => {\n                if (updateResult == '409') \n                    this.$parent.$refs.Header.logout();\n                else {\n                    if (name != updateResult.name)\n                        alert('Name is already used');\n                    this.closeModal();\n                    this.$parent.updateResources();\n                }\n            });\n            \n            //Prevent submit refresh\n            event.preventDefault();\n        }\n    },\n\n    mounted() {\n        //Listen for modal submit\n        document.getElementById('ViewResourceModal-Form').addEventListener('submit', this.updateResource);\n    }\n}\n",{"version":3,"sources":["ViewResourceModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ViewResourceModal.vue","sourceRoot":"src/views/4. admin views/components/modals/resources","sourcesContent":["<template>\n    <div class=\"ViewResourceModal\" id=\"ViewResourceModal\" aria-hidden=\"true\">\n                \n        <div class=\"modal-header\">\n            <div class=\"modal-header-text\">Edit Resource</div>\n            \n            <button type=\"button\" class=\"close\" aria-label=\"Close\" @click=\"closeModal()\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n\n        <form id=\"ViewResourceModal-Form\">\n\n            <div class=\"inputLg\">\n                <label class=\"sectionLabel\">Name</label>\n                <input type=\"text\" class=\"input-box form-control\" id=\"ViewResourceModal-Name\" placeholder=\"Resources's Name\" required>\n            </div>\n            <div class=\"inputLg\">\n                <label class=\"sectionLabel\">Quantity</label>\n                <input type=\"number\" min='0' class=\"input-box form-control\" id=\"ViewResourceModal-Quantity\" placeholder=\"Number of this resource availible\" required>\n            </div>\n\n            <button class=\"btn btn-success submitBtn\" type=\"submit\">Submit</button>\n            <button class=\"btn btn-secondary cancelBtn\" type=\"button\" @click=\"closeModal()\">Cancel</button>\n        </form>\n\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n    //Personal CSS\n    @import \"./css/ViewResourceModal.css\";\n</style>\n\n<script>\n    import * as api from '@/services/api_access';\n\n    export default {\n        data() {\n            return {\n                resource: null\n            }\n        },\n\n        methods: {\n            openModal(resource) {\n                //Data\n                this.resource = resource;\n                \n                //Fields\n                document.getElementById(\"ViewResourceModal-Name\").value = resource.name;\n                document.getElementById(\"ViewResourceModal-Quantity\").value = resource.quantity;\n\n                //Scroll\n                document.getElementById('ViewResourceModal').scrollTo(0, 0);\n\n                document.getElementById(\"ViewResourceModal\").style.opacity = \"1.0\";\n                document.getElementById(\"ViewResourceModal\").style.visibility = \"visible\";\n            },\n            closeModal() {\n                //resource\n                this.resource = null;\n\n                document.getElementById(\"ViewResourceModal\").style.opacity = \"0.0\";\n                document.getElementById(\"ViewResourceModal\").style.visibility = \"hidden\";\n            },\n            \n            updateResource(event) {\n                var id = this.resource.id;\n                var previousName = this.resource.name;\n                var name = document.getElementById(\"ViewResourceModal-Name\").value;\n                var quantity = document.getElementById(\"ViewResourceModal-Quantity\").value;\n                \n                api.admin_UpdateResource(id, previousName, name, quantity).then(updateResult => {\n                    if (updateResult == '409') \n                        this.$parent.$refs.Header.logout();\n                    else {\n                        if (name != updateResult.name)\n                            alert('Name is already used');\n                        this.closeModal();\n                        this.$parent.updateResources();\n                    }\n                });\n                \n                //Prevent submit refresh\n                event.preventDefault();\n            }\n        },\n\n        mounted() {\n            //Listen for modal submit\n            document.getElementById('ViewResourceModal-Form').addEventListener('submit', this.updateResource);\n        }\n    }\n</script>"]}]}